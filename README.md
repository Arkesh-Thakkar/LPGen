# LPGen
It is an automated invariant generation tool based on Linear Regression and Linear Programming.

It has been tested on 3 SVCOMP benchmarks, namely NLA-digbench, loop-zilu, loop-invariants.

The Benchmark folder contains the CSV that captured the value of variables of the program at the loop head during different loop iterations.

# Note:
- CSV are manually generated by supplying a random set of inputs to the program that satisfy pre conditions and values of the variables are captured.
- To infer invariant for any other program other than benchmarks, the above step needs to be done, and csv with values of variables needs to be generated.
- Ideal number of the samples would be 20x the number of variables (i.e., original + non-linear generated)

# To run benchmarks following are the steps.

--> Clone the repo
--> Go to the path of LpGen.py
--> Run the following command
      python LpGen.py -b="Name of Benchmark: nla/zilu/loop-inv"

# To run on your own csv files, perform the following steps:

--> Clone the Repo
--> Go to the path of LpGen.py
--> Run the following command
    python LpGen.py -p="Path to your csv file" -fn="filename" -pre="pre condition as per pyz3 format ex And(x>=y)" -ind="Inductive condition as per pyz3 format ex And(x>=y)"
    -post="post conditon as per pyz3 format ex And(x>=y)" -lc="loop conditon as per pyz3 format ex And(x>=y). If undeterministic write unknown" -degree="Degree in int to check upto n degree polynomial."

# Output
It gives following three outputs:
- Invariant that is generated and checked with the Houdini algorithm
- GCD invariant
- Bitwise And invariant

Here GCD invariant and Bitwise And invariant needs to be manually verified by the user as Z3 has no support to check GCD and Bitwise And takes longer times.
